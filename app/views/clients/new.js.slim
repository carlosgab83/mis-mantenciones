|
  $('#contact-modal').html( "#{escape_javascript(render('contact_modal'))}" );

  $.validator.addMethod("regex", function(value, element, regexpr) {
     return regexpr.test(value);
   }, '');

  $("#new_client").validate({
    debug: true,
    errorPlacement: function(error, element) { },
    rules: {
    "client[name]": {required: true},
    "client[primary_last_name]": {required: true},
    "client[email]": {required: true, email: true},
    "client[rut]": {required: true, minlength: 6, regex: /^0*(\d{1,3}(\.?\d{3})*)\-([\dkK])$/},
    "client[phone]": {required: true, digits: true, minlength: 9},
    "client[comune_id]": {required: true}
    }
  });

  window.onbeforeunload = function() { return "You work will be lost."; };

  $('#contact-modal').modal('show')